import { LinearScale, Axes } from '.';

width := 480;
height := 480;

dataset iris: select * from read_csv(
    '/Users/jonmmease/VegaFusion/repos/avenger/avenger-runtime/tests/data/iris.csv'
);

comp x_scale: LinearScale {
    domain := (select [min("SepalLengthCm"), max("SepalLengthCm")] from @iris);
    nice := 20;
    range := [40, 440];
}

comp y_scale: LinearScale {
    domain := (select [min("SepalWidthCm"), max("SepalWidthCm")] from @iris);
    nice := 10;
    range := [440, 40];
}

// Scatter symbol mark
Symbol {
    data := select * from @iris;
    fill := 'crimson';
    x := @x_scale.scale("SepalLengthCm");
    y := @y_scale.scale("SepalWidthCm");
}

// Add axes
Axes {
    x_scale := @parent.x_scale;
    y_scale := @parent.y_scale;
}
